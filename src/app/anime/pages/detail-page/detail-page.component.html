<app-appbar></app-appbar>
<div *ngIf="anime">
  <!-- TODO: Place anime image if embed video is not available -->
  <div class="w-full h-96">
    <iframe
      class="w-full h-full"
      [src]="anime.trailer.embed_url | fallbackEmbedUrl | safeUrl"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      allowfullscreen
    ></iframe>
  </div>

  <div class="max-w-3xl mx-auto p-4 py-12">
    <div class="flex gap-8 justify-between items-start">
      <!-- Details -->
      <div>
        <h1 class="text-3xl font-bold">{{ anime.title }}</h1>
        <div class="text-primary font-medium mb-4">
          <p>{{ anime.type }}</p>
          <p>{{ anime.status }}</p>
          <p>{{ anime.episodes }} episodes</p>
          <p class="mt-4 font-normal">{{ anime.synopsis }}</p>
        </div>
        <div class="flex gap-2">
          <div *ngFor="let genre of anime.genres">
            <span class="badge badge-primary font-medium">{{
              genre.name
            }}</span>
          </div>
        </div>
      </div>
      <!-- Poster -->
      <img
        class="w-60 aspect-[2/3] object-cover rounded hidden md:flex"
        [src]="anime.images['jpg'].large_image_url | fallbackImgUrl"
        [alt]="anime.title"
      />
    </div>
  </div>
</div>
